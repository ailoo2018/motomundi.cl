/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[229],{141:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},1449:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(25),o=n(141),c=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(e,n){e((function(e){var c=n().getIntegration(t);if(c){try{if(function(t,e){if(!e)return!1;if(function(t,e){var n=t.message,r=e.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!f(t,e))return!1;if(!d(t,e))return!1;return!0}(t,e))return!0;if(function(t,e){var n=l(e),r=l(t);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!f(t,e))return!1;if(!d(t,e))return!1;return!0}(t,e))return!0;return!1}(e,c._previousEvent))return o.a&&r.c.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){return c._previousEvent=e}return c._previousEvent=e}return e}))},t.id="Dedupe",t}();function d(t,e){var n=h(t),r=h(e);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++){var o=r[i],c=n[i];if(o.filename!==c.filename||o.lineno!==c.lineno||o.colno!==c.colno||o.function!==c.function)return!1}return!0}function f(t,e){var n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(t){return!1}}function l(t){return t.exception&&t.exception.values&&t.exception.values[0]}function h(t){var e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch(t){return}else if(t.stacktrace)return t.stacktrace.frames}},1450:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(60),o=n(35),c=n(838),d=n(25),f=n(141),l=function(){function t(e){this.name=t.id,this._options=Object(r.a)({depth:3},e)}return t.prototype.setupOnce=function(e,n){e((function(e,r){var o=n().getIntegration(t);return o?o.enhanceEventWithErrorData(e,r):e}))},t.prototype.enhanceEventWithErrorData=function(t,e){var n;if(!e||!e.originalException||!Object(o.d)(e.originalException))return t;var d=e.originalException.name||e.originalException.constructor.name,f=this._extractErrorData(e.originalException);if(f){var l=Object(r.a)({},t.contexts),h=Object(c.a)(f,this._options.depth);return Object(o.i)(h)&&(l=Object(r.a)(Object(r.a)({},t.contexts),((n={})[d]=Object(r.a)({},h),n))),Object(r.a)(Object(r.a)({},t),{contexts:l})}return t},t.prototype._extractErrorData=function(t){var e,n,c,l;try{var h=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],m={};try{for(var v=Object(r.c)(Object.keys(t)),_=v.next();!_.done;_=v.next()){var y=_.value;if(-1===h.indexOf(y)){var O=t[y];m[y]=Object(o.d)(O)?O.toString():O}}}catch(t){e={error:t}}finally{try{_&&!_.done&&(n=v.return)&&n.call(v)}finally{if(e)throw e.error}}if("function"==typeof t.toJSON){var T=t.toJSON();try{for(var j=Object(r.c)(Object.keys(T)),S=j.next();!S.done;S=j.next()){O=T[y=S.value];m[y]=Object(o.d)(O)?O.toString():O}}catch(t){c={error:t}}finally{try{S&&!S.done&&(l=j.return)&&l.call(j)}finally{if(c)throw c.error}}}return m}catch(t){f.a&&d.c.error("Unable to extract extra data from the Error object:",t)}return null},t.id="ExtraErrorData",t}()},1451:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(60),o=n(570),c=function(){function t(e){var n=this;void 0===e&&(e={}),this.name=t.id,this._prefix="app:///",this._iteratee=function(t){if(!t.filename)return t;var e=/^[A-Z]:\\/.test(t.filename),r=/^\//.test(t.filename);if(e||r){var c=e?t.filename.replace(/^[A-Z]:/,"").replace(/\\/g,"/"):t.filename,base=n._root?Object(o.b)(n._root,c):Object(o.a)(c);t.filename=""+n._prefix+base}return t},e.root&&(this._root=e.root),e.prefix&&(this._prefix=e.prefix),e.iteratee&&(this._iteratee=e.iteratee)}return t.prototype.setupOnce=function(e,n){e((function(e){var r=n().getIntegration(t);return r?r.process(e):e}))},t.prototype.process=function(t){var e=t;return t.exception&&Array.isArray(t.exception.values)&&(e=this._processExceptionsEvent(e)),t.stacktrace&&(e=this._processStacktraceEvent(e)),e},t.prototype._processExceptionsEvent=function(t){var e=this;try{return Object(r.a)(Object(r.a)({},t),{exception:Object(r.a)(Object(r.a)({},t.exception),{values:t.exception.values.map((function(t){return Object(r.a)(Object(r.a)({},t),{stacktrace:e._processStacktrace(t.stacktrace)})}))})})}catch(e){return t}},t.prototype._processStacktraceEvent=function(t){try{return Object(r.a)(Object(r.a)({},t),{stacktrace:this._processStacktrace(t.stacktrace)})}catch(e){return t}},t.prototype._processStacktrace=function(t){var e=this;return Object(r.a)(Object(r.a)({},t),{frames:t&&t.frames&&t.frames.map((function(t){return e._iteratee(t)}))})},t.id="RewriteFrames",t}()},1452:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var r=n(60),o=n(121),c=n(25),d=n(51),f=n(570),l=n(141),h={id:"Tracing"},m={id:"BrowserTracing"},v="ui.vue",_={activate:["activated","deactivated"],create:["beforeCreate","created"],destroy:["beforeDestroy","destroyed"],mount:["beforeMount","mounted"],update:["beforeUpdate","updated"]},y=/(?:^|[-_/])(\w)/g,O="root",T="anonymous component",j=function(){function t(e){var n=this;this.name=t.id,this._componentsCache={},this._applyTracingHooks=function(t,e){if(!t.$options.$_sentryPerfHook){t.$options.$_sentryPerfHook=!0;var d=n._getComponentName(t),f=d===O,m={},y=function(r){var c=Object(o.d)();n._rootSpan?n._finishRootSpan(c,e):t.$once("hook:"+r,(function(){var t=e().getIntegration(h);if(t){n._tracingActivity=t.constructor.pushActivity("Vue Application Render");var r=t.constructor.getTransaction();r&&(n._rootSpan=r.startChild({description:"Application Render",op:v}))}else{var o=function(t){if(t&&t.getScope){var e=t.getScope();if(e)return e.getTransaction()}return}(e());o&&(n._rootSpan=o.startChild({description:"Application Render",op:v}))}}))},T=function(r,c){var f=Array.isArray(n._options.tracingOptions.trackComponents)?n._options.tracingOptions.trackComponents.indexOf(d)>-1:n._options.tracingOptions.trackComponents;if(n._rootSpan&&f){var l=Object(o.d)(),span=m[c];span?(span.finish(),n._finishRootSpan(l,e)):t.$once("hook:"+r,(function(){n._rootSpan&&(m[c]=n._rootSpan.startChild({description:"Vue <"+d+">",op:v+"."+c}))}))}};n._options.tracingOptions.hooks.forEach((function(e){var o=_[e];o?o.forEach((function(o){var c=f?y.bind(n,o):T.bind(n,o,e),d=t.$options[o];Array.isArray(d)?t.$options[o]=Object(r.b)([c],d):t.$options[o]="function"==typeof d?[c,d]:[c]})):l.a&&c.c.warn("Unknown hook: "+e)}))}},l.a&&c.c.log("You are still using the Vue.js_0.js integration, consider moving to @sentry/vue"),this._options=Object(r.a)(Object(r.a)({Vue:Object(d.a)().Vue,attachProps:!0,logErrors:!1,tracing:!1},e),{tracingOptions:Object(r.a)({hooks:["mount","update"],timeout:2e3,trackComponents:!1},e.tracingOptions)})}return t.prototype.setupOnce=function(t,e){this._options.Vue?(this._attachErrorHandler(e),this._options.tracing&&this._startTracing(e)):l.a&&c.c.error("Vue integration is missing a Vue instance")},t.prototype._getComponentName=function(t){if(!t)return T;if(t.$root===t)return O;if(!t.$options)return T;if(t.$options.name)return t.$options.name;if(t.$options._componentTag)return t.$options._componentTag;if(t.$options.__file){var e=t.$options.__file.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"),n=Object(f.a)(e,".vue");return this._componentsCache[n]||(this._componentsCache[n]=n.replace(y,(function(t,e){return e?e.toUpperCase():""})))}return T},t.prototype._finishRootSpan=function(t,e){var n=this;this._rootSpanTimer&&clearTimeout(this._rootSpanTimer),this._rootSpanTimer=setTimeout((function(){if(n._tracingActivity){var r=e().getIntegration(h);r&&r.constructor.popActivity(n._tracingActivity)}n._rootSpan&&n._rootSpan.finish(t)}),this._options.tracingOptions.timeout)},t.prototype._startTracing=function(t){var e=this._applyTracingHooks;this._options.Vue.mixin({beforeCreate:function(){t().getIntegration(h)||t().getIntegration(m)?e(this,t):l.a&&c.c.error("Vue integration has tracing enabled, but Tracing integration is not configured")}})},t.prototype._attachErrorHandler=function(e){var n=this,r=this._options.Vue.config.errorHandler;this._options.Vue.config.errorHandler=function(o,d,f){var h={};if(d)try{h.componentName=n._getComponentName(d),n._options.attachProps&&(h.propsData=d.$options.propsData)}catch(t){l.a&&c.c.warn("Unable to extract metadata from Vue component.")}f&&(h.lifecycleHook=f),e().getIntegration(t)&&setTimeout((function(){e().withScope((function(t){t.setContext("vue",h),e().captureException(o)}))})),"function"==typeof r&&r.call(n._options.Vue,o,d,f),n._options.logErrors&&(n._options.Vue.util&&n._options.Vue.util.warn("Error in "+f+': "'+(o&&o.toString())+'"',d),console.error(o))}},t.id="Vue",t}()},162:function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return l}));var r=n(27),o=n(122),c=n(121),d=n(47),f=function(){function t(t){void 0===t&&(t=1e3),this.spans=[],this._maxlen=t}return t.prototype.add=function(span){this.spans.length>this._maxlen?span.spanRecorder=void 0:this.spans.push(span)},t}(),l=function(){function t(t){if(this.traceId=Object(o.f)(),this.spanId=Object(o.f)().substring(16),this.startTimestamp=Object(c.d)(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return t.prototype.child=function(t){return this.startChild(t)},t.prototype.startChild=function(e){var n=new t(Object(r.a)(Object(r.a)({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},t.prototype.setTag=function(t,e){var n;return this.tags=Object(r.a)(Object(r.a)({},this.tags),((n={})[t]=e,n)),this},t.prototype.setData=function(t,e){var n;return this.data=Object(r.a)(Object(r.a)({},this.data),((n={})[t]=e,n)),this},t.prototype.setStatus=function(t){return this.status=t,this},t.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var e=function(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(t);return"unknown_error"!==e&&this.setStatus(e),this},t.prototype.isSuccess=function(){return"ok"===this.status},t.prototype.finish=function(t){this.endTimestamp="number"==typeof t?t:Object(c.d)()},t.prototype.toTraceparent=function(){var t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},t.prototype.toContext=function(){return Object(d.c)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(t){var e,n,r,o,c;return this.data=null!=(e=t.data)?e:{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=null!=(n=t.spanId)?n:this.spanId,this.startTimestamp=null!=(r=t.startTimestamp)?r:this.startTimestamp,this.status=t.status,this.tags=null!=(o=t.tags)?o:{},this.traceId=null!=(c=t.traceId)?c:this.traceId,this},t.prototype.getTraceContext=function(){return Object(d.c)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return Object(d.c)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}()},167:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var r="finishReason",o=["heartbeatFailed","idleTimeout","documentHidden"]},181:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return j})),n.d(e,"a",(function(){return S}));var r=n(27),o=n(68),c=n(25),d=n(35),f=n(127),l=n(808),h=n(22),m=n(208),v=n(209),_=n(41);function y(){var t=this.getScope();if(t){var span=t.getSpan();if(span)return{"sentry-trace":span.toTraceparent()}}return{}}function O(t,e,n){return Object(_.b)(e)?void 0!==t.sampled?(t.setMetadata({transactionSampling:{method:"explicitly_set"}}),t):("function"==typeof e.tracesSampler?(r=e.tracesSampler(n),t.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(r)}})):void 0!==n.parentSampled?(r=n.parentSampled,t.setMetadata({transactionSampling:{method:"inheritance"}})):(r=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:"client_rate",rate:Number(r)}})),function(t){if(Object(d.h)(t)||"number"!=typeof t&&"boolean"!=typeof t)return h.a&&c.c.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(t)+" of type "+JSON.stringify(typeof t)+"."),!1;if(t<0||t>1)return h.a&&c.c.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+t+"."),!1;return!0}(r)?r?(t.sampled=Math.random()<r,t.sampled?(h.a&&c.c.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(h.a&&c.c.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(r)+")"),t)):(h.a&&c.c.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(h.a&&c.c.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)):(t.sampled=!1,t);var r}function T(t,e){var n=this.getClient(),o=n&&n.getOptions()||{},c=new v.a(t,this);return(c=O(c,o,Object(r.a)({parentSampled:t.parentSampled,transactionContext:t},e))).sampled&&c.initSpanRecorder(o._experiments&&o._experiments.maxSpans),c}function j(t,e,n,o,c){var d=t.getClient(),f=d&&d.getOptions()||{},l=new m.b(e,t,n,o);return(l=O(l,f,Object(r.a)({parentSampled:e.parentSampled,transactionContext:e},c))).sampled&&l.initSpanRecorder(f._experiments&&f._experiments.maxSpans),l}function S(){var e;(e=Object(o.d)()).__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=T),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=y)),Object(f.b)()&&function(){var e=Object(o.d)();if(e.__SENTRY__){var n={mongodb:function(){return new(Object(f.a)(t,"./integrations/node/mongo").Mongo)},mongoose:function(){return new(Object(f.a)(t,"./integrations/node/mongo").Mongo)({mongoose:!0})},mysql:function(){return new(Object(f.a)(t,"./integrations/node/mysql").Mysql)},pg:function(){return new(Object(f.a)(t,"./integrations/node/postgres").Postgres)}},c=Object.keys(n).filter((function(t){return!!Object(f.c)(t)})).map((function(t){try{return n[t]()}catch(t){return}})).filter((function(p){return p}));c.length>0&&(e.__SENTRY__.integrations=Object(r.e)(e.__SENTRY__.integrations||[],c))}}(),Object(l.a)()}}).call(this,n(459)(t))},208:function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return _}));var r=n(27),o=n(121),c=n(25),d=n(167),f=n(22),l=n(162),h=n(209),m=1e3,v=function(t){function e(e,n,r,o){void 0===r&&(r="");var c=t.call(this,o)||this;return c._pushActivity=e,c._popActivity=n,c.transactionSpanId=r,c}return Object(r.b)(e,t),e.prototype.add=function(span){var e=this;span.spanId!==this.transactionSpanId&&(span.finish=function(t){span.endTimestamp="number"==typeof t?t:Object(o.d)(),e._popActivity(span.spanId)},void 0===span.endTimestamp&&this._pushActivity(span.spanId)),t.prototype.add.call(this,span)},e}(l.b),_=function(t){function e(e,n,r,o){void 0===r&&(r=m),void 0===o&&(o=!1);var d=t.call(this,e,n)||this;return d._idleHub=n,d._idleTimeout=r,d._onScope=o,d.activities={},d._heartbeatCounter=0,d._finished=!1,d._beforeFinishCallbacks=[],n&&o&&(y(n),f.a&&c.c.log("Setting idle transaction on scope. Span ID: "+d.spanId),n.configureScope((function(t){return t.setSpan(d)}))),d._initTimeout=setTimeout((function(){d._finished||d.finish()}),d._idleTimeout),d}return Object(r.b)(e,t),e.prototype.finish=function(e){var n,d,l=this;if(void 0===e&&(e=Object(o.d)()),this._finished=!0,this.activities={},this.spanRecorder){f.a&&c.c.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);try{for(var h=Object(r.f)(this._beforeFinishCallbacks),m=h.next();!m.done;m=h.next()){(0,m.value)(this,e)}}catch(t){n={error:t}}finally{try{m&&!m.done&&(d=h.return)&&d.call(h)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(span){if(span.spanId===l.spanId)return!0;span.endTimestamp||(span.endTimestamp=e,span.setStatus("cancelled"),f.a&&c.c.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(span,void 0,2)));var t=span.startTimestamp<e;return t||f.a&&c.c.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(span,void 0,2)),t})),f.a&&c.c.log("[Tracing] flushing IdleTransaction")}else f.a&&c.c.log("[Tracing] No active IdleTransaction");return this._onScope&&y(this._idleHub),t.prototype.finish.call(this,e)},e.prototype.registerBeforeFinishCallback=function(t){this._beforeFinishCallbacks.push(t)},e.prototype.initSpanRecorder=function(t){var e=this;if(!this.spanRecorder){this.spanRecorder=new v((function(t){e._finished||e._pushActivity(t)}),(function(t){e._finished||e._popActivity(t)}),this.spanId,t),f.a&&c.c.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},e.prototype._pushActivity=function(t){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),f.a&&c.c.log("[Tracing] pushActivity: "+t),this.activities[t]=!0,f.a&&c.c.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(t){var e=this;if(this.activities[t]&&(f.a&&c.c.log("[Tracing] popActivity "+t),delete this.activities[t],f.a&&c.c.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,r=Object(o.d)()+n/1e3;setTimeout((function(){e._finished||(e.setTag(d.a,d.b[1]),e.finish(r))}),n)}},e.prototype._beat=function(){if(!this._finished){var t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?(f.a&&c.c.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.setTag(d.a,d.b[0]),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var t=this;f.a&&c.c.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),setTimeout((function(){t._beat()}),5e3)},e}(h.a);function y(t){if(t){var e=t.getScope();if(e)e.getTransaction()&&e.setSpan(void 0)}}},209:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=n(27),o=n(68),c=n(35),d=n(25),f=n(47),l=n(22),h=n(162),m=function(t){function e(e,n){var r=t.call(this,e)||this;return r._measurements={},r._hub=Object(o.b)(),Object(c.g)(n,o.a)&&(r._hub=n),r.name=e.name||"",r.metadata=e.metadata||{},r._trimEnd=e.trimEnd,r.transaction=r,r}return Object(r.b)(e,t),e.prototype.setName=function(t){this.name=t},e.prototype.initSpanRecorder=function(t){void 0===t&&(t=1e3),this.spanRecorder||(this.spanRecorder=new h.b(t)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(t){this._measurements=Object(r.a)({},t)},e.prototype.setMetadata=function(t){this.metadata=Object(r.a)(Object(r.a)({},this.metadata),t)},e.prototype.finish=function(e){var n=this;if(void 0===this.endTimestamp){if(this.name||(l.a&&d.c.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,e),!0===this.sampled){var r=this.spanRecorder?this.spanRecorder.spans.filter((function(s){return s!==n&&s.endTimestamp})):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((function(t,e){return t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t})).endTimestamp);var o={contexts:{trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:this.metadata};return Object.keys(this._measurements).length>0&&(l.a&&d.c.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),o.measurements=this._measurements),l.a&&d.c.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(o)}l.a&&d.c.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var c=this._hub.getClient(),f=c&&c.getTransport&&c.getTransport();f&&f.recordLostEvent&&f.recordLostEvent("sample_rate","transaction")}},e.prototype.toContext=function(){var e=t.prototype.toContext.call(this);return Object(f.c)(Object(r.a)(Object(r.a)({},e),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(e){var n;return t.prototype.updateWithContext.call(this,e),this.name=null!=(n=e.name)?n:"",this._trimEnd=e.trimEnd,this},e}(h.a)},22:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},24:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return c}));var r=function(){return r=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},r.apply(this,arguments)};function o(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function c(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(o(arguments[i]));return t}},27:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"d",(function(){return d})),n.d(e,"f",(function(){return f})),n.d(e,"c",(function(){return l})),n.d(e,"e",(function(){return h}));var r=function(t,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},r(t,b)};function o(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}var c=function(){return c=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},c.apply(this,arguments)};function d(s,t){var e={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&t.indexOf(p)<0&&(e[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)t.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(e[p[i]]=s[p[i]])}return e}function f(t){var s="function"==typeof Symbol&&Symbol.iterator,e=s&&t[s],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function h(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(l(arguments[i]));return t}},41:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f}));var r=n(68);function o(t){var e=Object(r.b)().getClient(),n=t||e&&e.getOptions();return!!n&&("tracesSampleRate"in n||"tracesSampler"in n)}function c(t){var e=(t||Object(r.b)()).getScope();return e&&e.getTransaction()}function d(time){return time/1e3}function f(time){return 1e3*time}},60:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return d}));var r=function(){return r=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},r.apply(this,arguments)};function o(t){var s="function"==typeof Symbol&&Symbol.iterator,e=s&&t[s],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function d(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(c(arguments[i]));return t}},70:function(t,e,n){"use strict";n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return h})),n.d(e,"b",(function(){return m})),n.d(e,"e",(function(){return v})),n.d(e,"a",(function(){return _})),n.d(e,"f",(function(){return y})),n.d(e,"h",(function(){return O})),n.d(e,"j",(function(){return T})),n.d(e,"g",(function(){return j})),n.d(e,"i",(function(){return S})),n.d(e,"k",(function(){return x})),n.d(e,"m",(function(){return E})),n.d(e,"l",(function(){return w}));var r=function(){return r=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},r.apply(this,arguments)};function o(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function c(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(o(arguments[i]));return t}var d=n(68);function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Object(d.b)();if(r&&r[t])return r[t].apply(r,c(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function l(t,e){return f("captureException",t,{captureContext:e,originalException:t,syntheticException:new Error("Sentry syntheticException")})}function h(t,e){var n=new Error(t);return f("captureMessage",t,"string"==typeof e?e:void 0,r({originalException:t,syntheticException:n},"string"!=typeof e?{captureContext:e}:void 0))}function m(t){return f("captureEvent",t)}function v(t){f("configureScope",t)}function _(t){f("addBreadcrumb",t)}function y(t,e){f("setContext",t,e)}function O(t){f("setExtras",t)}function T(t){f("setTags",t)}function j(t,e){f("setExtra",t,e)}function S(t,e){f("setTag",t,e)}function x(t){f("setUser",t)}function E(t){f("withScope",t)}function w(t,e){return f("startTransaction",r({},t),e)}},808:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(146),o=n(25),c=n(22),d=n(41);function f(){Object(r.a)("error",l),Object(r.a)("unhandledrejection",l)}function l(){var t=Object(d.a)();if(t){var e="internal_error";c.a&&o.c.log("[Tracing] Transaction: "+e+" -> Global error occured"),t.setStatus(e)}}},820:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={};n.r(r),n.d(r,"Express",(function(){return l})),n.d(r,"Postgres",(function(){return _})),n.d(r,"Mysql",(function(){return y})),n.d(r,"Mongo",(function(){return j})),n.d(r,"BrowserTracing",(function(){return X}));var o=n(181),c=n(27),d=n(25),f=n(22),l=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}return t.prototype.setupOnce=function(){this._router?function(t,e){void 0===e&&(e=[]);e.forEach((function(e){return function(t,e){var n=t[e];return t[e]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n.call.apply(n,Object(c.e)([this],function(t,e){return t.map((function(t){return"function"==typeof t?h(t,e):Array.isArray(t)?t.map((function(a){return"function"==typeof a?h(a,e):a})):t}))}(t,e)))},t}(t,e)}))}(this._router,this._methods):f.a&&d.c.error("ExpressIntegration is missing an Express instance")},t.id="Express",t}();function h(t,e){var n=t.length;switch(n){case 2:return function(n,r){var o=r.__sentry_transaction;if(o){var c=o.startChild({description:t.name,op:"express.middleware."+e});r.once("finish",(function(){c.finish()}))}return t.call(this,n,r)};case 3:return function(n,r,o){var d,span=null===(d=r.__sentry_transaction)||void 0===d?void 0:d.startChild({description:t.name,op:"express.middleware."+e});t.call(this,n,r,(function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=span)||void 0===t||t.finish(),o.call.apply(o,Object(c.e)([this],e))}))};case 4:return function(n,r,o,d){var f,span=null===(f=o.__sentry_transaction)||void 0===f?void 0:f.startChild({description:t.name,op:"express.middleware."+e});t.call(this,n,r,o,(function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=span)||void 0===t||t.finish(),d.call.apply(d,Object(c.e)([this],e))}))};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+n)}}var m=n(127),object=n(47),v=n(35),_=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._usePgNative=!!e.usePgNative}return t.prototype.setupOnce=function(t,e){var n,r=Object(m.c)("pg");if(r)if(!this._usePgNative||(null===(n=r.native)||void 0===n?void 0:n.Client)){var o=(this._usePgNative?r.native:r).Client;Object(object.e)(o.prototype,"query",(function(t){return function(n,r,o){var c,d,f,span=null===(d=null===(c=e().getScope())||void 0===c?void 0:c.getSpan())||void 0===d?void 0:d.startChild({description:"string"==typeof n?n:n.text,op:"db"});if("function"==typeof o)return t.call(this,n,r,(function(t,e){var n;null===(n=span)||void 0===n||n.finish(),o(t,e)}));if("function"==typeof r)return t.call(this,n,(function(t,e){var n;null===(n=span)||void 0===n||n.finish(),r(t,e)}));var l=void 0!==r?t.call(this,n,r):t.call(this,n);return Object(v.n)(l)?l.then((function(t){var e;return null===(e=span)||void 0===e||e.finish(),t})):(null===(f=span)||void 0===f||f.finish(),l)}}))}else f.a&&d.c.error("Postgres Integration was unable to access 'pg-native' bindings.");else f.a&&d.c.error("Postgres Integration was unable to require `pg` package.")},t.id="Postgres",t}(),y=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(t,e){var n=Object(m.c)("mysql/lib/Connection.js_0.js");n?Object(object.e)(n,"createQuery",(function(t){return function(n,r,o){var c,d,span=null===(d=null===(c=e().getScope())||void 0===c?void 0:c.getSpan())||void 0===d?void 0:d.startChild({description:"string"==typeof n?n:n.sql,op:"db"});return"function"==typeof o?t.call(this,n,r,(function(t,e,n){var r;null===(r=span)||void 0===r||r.finish(),o(t,e,n)})):"function"==typeof r?t.call(this,n,(function(t,e,n){var o;null===(o=span)||void 0===o||o.finish(),r(t,e,n)})):t.call(this,n,r,o)}})):f.a&&d.c.error("Mysql Integration was unable to require `mysql` package.")},t.id="Mysql",t}(),O=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],T={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},j=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._operations=Array.isArray(e.operations)?e.operations:O,this._describeOperations=!("describeOperations"in e)||e.describeOperations,this._useMongoose=!!e.useMongoose}return t.prototype.setupOnce=function(t,e){var n=this._useMongoose?"mongoose":"mongodb",r=Object(m.c)(n);r?this._instrumentOperations(r.Collection,this._operations,e):f.a&&d.c.error("Mongo Integration was unable to require `"+n+"` package.")},t.prototype._instrumentOperations=function(t,e,n){var r=this;e.forEach((function(e){return r._patchOperation(t,e,n)}))},t.prototype._patchOperation=function(t,e,n){if(e in t.prototype){var r=this._getSpanContextFromOperationArguments.bind(this);Object(object.e)(t.prototype,e,(function(t){return function(){for(var o,d,f,l,h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];var _=h[h.length-1],y=null===(o=n().getScope())||void 0===o?void 0:o.getSpan();if("function"!=typeof _||"mapReduce"===e&&2===h.length){var O=null===(d=y)||void 0===d?void 0:d.startChild(r(this,e,h)),T=t.call.apply(t,Object(c.e)([this],h));return Object(v.n)(T)?T.then((function(t){var e;return null===(e=O)||void 0===e||e.finish(),t})):(null===(f=O)||void 0===f||f.finish(),T)}var span=null===(l=y)||void 0===l?void 0:l.startChild(r(this,e,h.slice(0,-1)));return t.call.apply(t,Object(c.e)([this],h.slice(0,-1),[function(t,e){var n;null===(n=span)||void 0===n||n.finish(),_(t,e)}]))}}))}},t.prototype._getSpanContextFromOperationArguments=function(t,e,n){var data={collectionName:t.collectionName,dbName:t.dbName,namespace:t.namespace},r={op:"db",description:e,data:data},o=T[e],d=Array.isArray(this._describeOperations)?this._describeOperations.includes(e):this._describeOperations;if(!o||!d)return r;try{if("mapReduce"===e){var f=Object(c.c)(n,2),map=f[0],l=f[1];data[o[0]]="string"==typeof map?map:map.name||"<anonymous>",data[o[1]]="string"==typeof l?l:l.name||"<anonymous>"}else for(var i=0;i<o.length;i++)data[o[i]]=JSON.stringify(n[i])}catch(t){}return r},t.id="Mongo",t}(),S=n(51),x=n(208),E=n(41),w=n(762),k=n(167),C=Object(S.a)();var time=n(121),I=n(273),R=function(t,e,n){var r;return function(o){e.value>=0&&(o||n)&&(e.delta=e.value-(r||0),(e.delta||void 0===r)&&(r=e.value,t(e)))}},A=function(t,e){return{name:t,value:null!=e?e:-1,delta:0,entries:[],id:"v2-"+Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12)}},N=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){if("first-input"===t&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(t){return t.getEntries().map(e)}));return n.observe({type:t,buffered:!0}),n}}catch(t){}},M=function(t,e){var n=function(r){"pagehide"!==r.type&&"hidden"!==Object(S.a)().document.visibilityState||(t(r),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},D=-1,P=function(){return D<0&&(D="hidden"===Object(S.a)().document.visibilityState?0:1/0,M((function(t){var e=t.timeStamp;D=e}),!0)),{get firstHiddenTime(){return D}}},H={},L=Object(S.a)(),F=function(){function t(t){void 0===t&&(t=!1),this._reportAllChanges=t,this._measurements={},this._performanceCursor=0,!Object(m.b)()&&L&&L.performance&&L.document&&(L.performance.mark&&L.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return t.prototype.addPerformanceEntries=function(t){var e=this;if(L&&L.performance&&L.performance.getEntries&&time.a){f.a&&d.c.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,o=Object(E.c)(time.a);if(L.performance.getEntries().slice(this._performanceCursor).forEach((function(c){var l=Object(E.c)(c.startTime),h=Object(E.c)(c.duration);if(!("navigation"===t.op&&o+l<t.startTimestamp))switch(c.entryType){case"navigation":!function(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((function(r){B(t,e,r,n)})),B(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),B(t,e,"fetch",n,"cache","domainLookupStart"),B(t,e,"domainLookup",n,"DNS"),function(t,e,n){$(t,{op:"browser",description:"request",startTimestamp:n+Object(E.c)(e.requestStart),endTimestamp:n+Object(E.c)(e.responseEnd)}),$(t,{op:"browser",description:"response",startTimestamp:n+Object(E.c)(e.responseStart),endTimestamp:n+Object(E.c)(e.responseEnd)})}(t,e,n)}(t,c,o),n=o+Object(E.c)(c.responseStart),r=o+Object(E.c)(c.requestStart);break;case"mark":case"paint":case"measure":var m=function(t,e,n,r,o){var c=o+n,d=c+r;return $(t,{description:e.name,endTimestamp:d,op:e.entryType,startTimestamp:c}),c}(t,c,l,h,o),v=P(),_=c.startTime<v.firstHiddenTime;"first-paint"===c.name&&_&&(f.a&&d.c.log("[Measurements] Adding FP"),e._measurements.fp={value:c.startTime},e._measurements["mark.fp"]={value:m}),"first-contentful-paint"===c.name&&_&&(f.a&&d.c.log("[Measurements] Adding FCP"),e._measurements.fcp={value:c.startTime},e._measurements["mark.fcp"]={value:m});break;case"resource":var y=c.name.replace(L.location.origin,"");!function(t,e,n,r,o,c){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)return;var data={};"transferSize"in e&&(data["Transfer Size"]=e.transferSize);"encodedBodySize"in e&&(data["Encoded Body Size"]=e.encodedBodySize);"decodedBodySize"in e&&(data["Decoded Body Size"]=e.decodedBodySize);var d=c+r,f=d+o;$(t,{description:n,endTimestamp:f,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:d,data:data})}(t,c,y,l,h,o)}})),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),"pageload"===t.op){var c=Object(E.c)(time.a);"number"==typeof n&&(f.a&&d.c.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:1e3*(n-t.startTimestamp)},"number"==typeof r&&r<=n&&(this._measurements["ttfb.requestTime"]={value:1e3*(n-r)})),["fcp","fp","lcp"].forEach((function(n){if(e._measurements[n]&&!(c>=t.startTimestamp)){var r=e._measurements[n].value,o=c+Object(E.c)(r),l=Math.abs(1e3*(o-t.startTimestamp)),h=l-r;f.a&&d.c.log("[Measurements] Normalized "+n+" from "+r+" to "+l+" ("+h+")"),e._measurements[n].value=l}})),this._measurements["mark.fid"]&&this._measurements.fid&&$(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+Object(E.c)(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),"fcp"in this._measurements||delete this._measurements.cls,t.setMeasurements(this._measurements),function(t,e,n){e&&(f.a&&d.c.log("[Measurements] Adding LCP Data"),e.element&&t.setTag("lcp.element",Object(I.b)(e.element)),e.id&&t.setTag("lcp.id",e.id),e.url&&t.setTag("lcp.url",e.url.trim().slice(0,200)),t.setTag("lcp.size",e.size));n&&n.sources&&(f.a&&d.c.log("[Measurements] Adding CLS Data"),n.sources.forEach((function(source,e){return t.setTag("cls.source."+(e+1),Object(I.b)(source.node))})))}(t,this._lcpEntry,this._clsEntry),t.setTag("sentry_reportAllChanges",this._reportAllChanges)}}},t.prototype._trackNavigator=function(t){var e=L.navigator;if(e){var n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),V(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),V(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),V(e.deviceMemory)&&t.setTag("deviceMemory",String(e.deviceMemory)),V(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}},t.prototype._trackCLS=function(){var t,e,n,r,o,c,l,h,m=this;t=function(t){var e=t.entries.pop();e&&(f.a&&d.c.log("[Measurements] Adding CLS"),m._measurements.cls={value:t.value},m._clsEntry=e)},r=A("CLS",0),o=0,c=[],(h=N("layout-shift",l=function(t){if(t&&!t.hadRecentInput){var e=c[0],d=c[c.length-1];o&&0!==c.length&&t.startTime-d.startTime<1e3&&t.startTime-e.startTime<5e3?(o+=t.value,c.push(t)):(o=t.value,c=[t]),o>r.value&&(r.value=o,r.entries=c,n&&n())}}))&&(n=R(t,r,e),M((function(){h.takeRecords().map(l),n(!0)})))},t.prototype._trackLCP=function(){var t=this;!function(t,e){var n,r=P(),o=A("LCP"),c=function(t){var e=t.startTime;e<r.firstHiddenTime&&(o.value=e,o.entries.push(t)),n&&n()},d=N("largest-contentful-paint",c);if(d){n=R(t,o,e);var f=function(){H[o.id]||(d.takeRecords().map(c),d.disconnect(),H[o.id]=!0,n(!0))};["keydown","click"].forEach((function(t){addEventListener(t,f,{once:!0,capture:!0})})),M(f,!0)}}((function(e){var n=e.entries.pop();if(n){var r=Object(E.c)(time.a),o=Object(E.c)(n.startTime);f.a&&d.c.log("[Measurements] Adding LCP"),t._measurements.lcp={value:e.value},t._measurements["mark.lcp"]={value:r+o},t._lcpEntry=n}}),this._reportAllChanges)},t.prototype._trackFID=function(){var t,e,n,r,o,c,l,h=this;t=function(t){var e=t.entries.pop();if(e){var n=Object(E.c)(time.a),r=Object(E.c)(e.startTime);f.a&&d.c.log("[Measurements] Adding FID"),h._measurements.fid={value:t.value},h._measurements["mark.fid"]={value:n+r}}},r=P(),o=A("FID"),(l=N("first-input",c=function(t){n&&t.startTime<r.firstHiddenTime&&(o.value=t.processingStart-t.startTime,o.entries.push(t),n(!0))}))&&(n=R(t,o,e),M((function(){l.takeRecords().map(c),l.disconnect()}),!0))},t}();function B(t,e,n,r,o,c){var d=c?e[c]:e[n+"End"],f=e[n+"Start"];f&&d&&$(t,{op:"browser",description:null!=o?o:n,startTimestamp:r+Object(E.c)(f),endTimestamp:r+Object(E.c)(d)})}function $(t,e){var n=e.startTimestamp,r=Object(c.d)(e,["startTimestamp"]);return n&&t.startTimestamp>n&&(t.startTimestamp=n),t.startChild(Object(c.a)({startTimestamp:n},r))}function V(t){return"number"==typeof t&&isFinite(t)}var Y=n(151),z=n(146),J={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};function U(t){var e=Object(c.a)(Object(c.a)({},J),t),n=e.traceFetch,r=e.traceXHR,o=e.tracingOrigins,d=e.shouldCreateSpanForRequest,f={},l=function(t){if(f[t])return f[t];var e=o;return f[t]=e.some((function(e){return Object(Y.a)(t,e)}))&&!Object(Y.a)(t,"sentry_key"),f[t]},h=l;"function"==typeof d&&(h=function(t){return l(t)&&d(t)});var m={};n&&Object(z.a)("fetch",(function(t){!function(t,e,n){if(!Object(E.b)()||!t.fetchData||!e(t.fetchData.url))return;if(t.endTimestamp){var r=t.fetchData.__span;if(!r)return;return void((span=n[r])&&(t.response?span.setHttpStatus(t.response.status):t.error&&span.setStatus("internal_error"),span.finish(),delete n[r]))}var o=Object(E.a)();if(o){var span=o.startChild({data:Object(c.a)(Object(c.a)({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http.client"});t.fetchData.__span=span.spanId,n[span.spanId]=span;var d=t.args[0]=t.args[0],f=t.args[1]=t.args[1]||{},l=f.headers;Object(v.g)(d,Request)&&(l=d.headers),l?"function"==typeof l.append?l.append("sentry-trace",span.toTraceparent()):l=Array.isArray(l)?Object(c.e)(l,[["sentry-trace",span.toTraceparent()]]):Object(c.a)(Object(c.a)({},l),{"sentry-trace":span.toTraceparent()}):l={"sentry-trace":span.toTraceparent()},f.headers=l}}(t,h,m)})),r&&Object(z.a)("xhr",(function(t){!function(t,e,n){if(!Object(E.b)()||t.xhr&&t.xhr.__sentry_own_request__||!(t.xhr&&t.xhr.__sentry_xhr__&&e(t.xhr.__sentry_xhr__.url)))return;var r=t.xhr.__sentry_xhr__;if(t.endTimestamp){var o=t.xhr.__sentry_xhr_span_id__;if(!o)return;return void((span=n[o])&&(span.setHttpStatus(r.status_code),span.finish(),delete n[o]))}var d=Object(E.a)();if(d){var span=d.startChild({data:Object(c.a)(Object(c.a)({},r.data),{type:"xhr",method:r.method,url:r.url}),description:r.method+" "+r.url,op:"http.client"});if(t.xhr.__sentry_xhr_span_id__=span.spanId,n[t.xhr.__sentry_xhr_span_id__]=span,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",span.toTraceparent())}catch(t){}}}(t,h,m)}))}var W=Object(S.a)();var G=Object(c.a)({idleTimeout:x.a,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=!0),W&&W.location){var r,o=W.location.href;e&&(r=t({name:W.location.pathname,op:"pageload"})),n&&Object(z.a)("history",(function(e){var n=e.to,c=e.from;void 0===c&&o&&-1!==o.indexOf(n)?o=void 0:c!==n&&(o=void 0,r&&(f.a&&d.c.log("[Tracing] Finishing current transaction with op: "+r.op),r.finish()),r=t({name:W.location.pathname,op:"navigation"}))}))}else f.a&&d.c.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},J),X=function(){function t(e){this.name=t.id,this._configuredIdleTimeout=void 0;var n=J.tracingOrigins;e&&(this._configuredIdleTimeout=e.idleTimeout,e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&0!==e.tracingOrigins.length?n=e.tracingOrigins:f.a&&(this._emitOptionsWarning=!0)),this.options=Object(c.a)(Object(c.a)(Object(c.a)({},G),e),{tracingOrigins:n});var r=this.options._metricOptions;this._metrics=new F(r&&r._reportAllChanges)}return t.prototype.setupOnce=function(t,e){var n=this;this._getCurrentHub=e,this._emitOptionsWarning&&(f.a&&d.c.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),f.a&&d.c.warn("[Tracing] We added a reasonable default for you: "+J.tracingOrigins));var r=this.options,o=r.routingInstrumentation,c=r.startTransactionOnLocationChange,l=r.startTransactionOnPageLoad,h=r.markBackgroundTransactions,m=r.traceFetch,v=r.traceXHR,_=r.tracingOrigins,y=r.shouldCreateSpanForRequest;o((function(t){return n._createRouteTransaction(t)}),l,c),h&&(C&&C.document?C.document.addEventListener("visibilitychange",(function(){var t=Object(E.a)();if(C.document.hidden&&t){var e="cancelled";f.a&&d.c.log("[Tracing] Transaction: "+e+" -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.setTag(k.a,k.b[2]),t.finish()}})):f.a&&d.c.warn("[Tracing] Could not set up background tab detection due to lack of global document")),U({traceFetch:m,traceXHR:v,tracingOrigins:_,shouldCreateSpanForRequest:y})},t.prototype._createRouteTransaction=function(t){var e=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,l=n.idleTimeout,h=n.maxTransactionDuration,m="pageload"===t.op?function(){var header=(t="sentry-trace",e=Object(S.a)().document.querySelector("meta[name="+t+"]"),e?e.getAttribute("content"):null);var t,e;if(header)return Object(w.a)(header);return}():void 0,v=Object(c.a)(Object(c.a)(Object(c.a)({},t),m),{trimEnd:!0}),_="function"==typeof r?r(v):v,y=void 0===_?Object(c.a)(Object(c.a)({},v),{sampled:!1}):_;!1===y.sampled&&f.a&&d.c.log("[Tracing] Will not send "+y.op+" transaction because of beforeNavigate."),f.a&&d.c.log("[Tracing] Starting "+y.op+" transaction on scope");var O=this._getCurrentHub(),T=Object(S.a)().location,j=Object(o.b)(O,y,l,!0,{location:T});return j.registerBeforeFinishCallback((function(t,n){e._metrics.addPerformanceEntries(t),function(t,e,n){var r=n-e.startTimestamp,o=n&&(r>t||r<0);o&&(e.setStatus("deadline_exceeded"),e.setTag("maxTransactionDurationExceeded","true"))}(Object(E.d)(h),t,n)})),j.setTag("idleTimeout",this._configuredIdleTimeout),j}f.a&&d.c.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.")},t.id="BrowserTracing",t}();Object(o.a)()}}]);
//# sourceMappingURL=cb36b16.js_0.js.map