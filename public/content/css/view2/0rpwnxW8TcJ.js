/*!CK:3301653415!*//*1385479217,173213749*/

if (self.CavalryLogger) { CavalryLogger.start_js(["Yn3yY"]); }

__d("legacy:connect-xd",["XD"],function(a,b,c,d){a.UnverifiedXD=b('XD').UnverifiedXD;a.XD=b('XD').XD;},3);
__d("PlatformDialogEscapeFrame",["URL"],function(a,b,c,d,e,f){var g=b('URL'),h={go:function(){try{if(window.top!=window&&window.top.location.href&&g(window.top.location.href).isFacebookURL()){window.top.location.href=window.location.href;return true;}}catch(i){}}};e.exports=h;});
__d("DisablePlatformButton",["ge","CSS","Event"],function(a,b,c,d,e,f){var g=b('ge'),h=b('CSS'),i=b('Event'),j=false,k={init:function(l){for(var m=0;m<l.length;m++){var n=g(l[m]);i.listen(n,'click',function(o){if(j){return false;}else{j=true;for(var p=0;p<l.length;p++)h.addClass(l[p],'uiButtonDisabled');}});}}};e.exports=k;});
__d("legacy:popup-resizer",["PopupWindow"],function(a,b,c,d){a.PopupResizer=b('PopupWindow');},3);
__d("BasePrivacyWidget",["Arbiter","ArbiterMixin","CSS","DOM","Event","Form","PrivacyConst","SelectorDeprecated","$","copyProperties","tx"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('CSS'),j=b('DOM'),k=b('Event'),l=b('Form'),m=b('PrivacyConst'),n=b('SelectorDeprecated'),o=b('$'),p=b('copyProperties'),q=b('tx'),r=m.BaseValue;function s(){}p(s.prototype,h,{init:function(t,u,v){this._controllerId=t;this._root=o(t);this._options=p(v||{},u||{});this._formDataKey='privacy_data';},getData:function(){return this._model.getData();},_getPrivacyData:function(t){t=t||this._fbid;var u={};u[t]=this.getData();return u;},getRoot:function(){return this._root;},_initSelector:function(t){this._selector=t;n.listen(t,'select',function(u){var v=u.option;if(i.hasClass(v,'notSelectable'))return;var w=n.getOptionValue(v);this._onMenuSelect(w);}.bind(this));k.listen(t,'click',function(){this.inform('menuActivated');}.bind(this));},_isCustomSetting:function(t){return (t==r.CUSTOM);},_updateSelector:function(t){var u=this._model.objects,v;if(u&&u.length){v=u[0];}else v=this._model.value;n.setSelected(this._selector,v+'');g.inform('UIPrivacyWidget/globalUpdatedSelector',{id:this._controllerId,value:v});if(!this._isCustomSetting(v)){this._onPrivacyChanged();return;}var w=n.getOption(this._selector,r.CUSTOM+'');if(w)w.setAttribute('data-label',t||"Personalizar");n.updateSelector(this._selector);},_onPrivacyChanged:function(){this._saveFormData();g.inform('Form/change',{node:this.getRoot()});this.inform('privacyChanged',this.getData());g.inform('UIPrivacyWidget/globalPrivacyChanged',{fbid:this._fbid,data:this.getData()});},_saveFormData:function(){var t=j.find(this._root,'div.UIPrivacyWidget_Form');j.empty(t);var u={};if(this._options.useLegacyFormData){u[this._formDataKey]=this.getData();}else u[this._formDataKey]=this._getPrivacyData();l.createHiddenInputs(u,t);}});e.exports=s;});
__d("TargetedPrivacyConsts",[],function(a,b,c,d,e,f){var g={GENDER_BOTH:0,GENDER_MALE:1,GENDER_FEMALE:2,LOC_ALL:0,LOC_REGION:1,LOC_CITY:2};e.exports=g;});
__d("TargetedPrivacyModel",["PrivacyConst","TargetedPrivacyConsts","copyProperties"],function(a,b,c,d,e,f){var g=b('PrivacyConst'),h=b('TargetedPrivacyConsts'),i=b('copyProperties'),j=g.BaseValue;function k(){this.value=j.EVERYONE;this.countries=[];this.countries_names=[];this.location_type=h.LOC_ALL;this.location_ids=[];this.location_ids_names=[];this.locales=[];this.locales_names=[];this.gender=h.GENDER_BOTH;this.age_min=0;this.age_max=0;return this;}i(k.prototype,{init:function(l,m,n,o,p,q,r,s,t,u,v,w,x){this.value=l;this.countries=m.slice();this.countries_names=n.slice();this.location_type=o;this.location_ids=p.slice();this.location_ids_names=q.slice();this.age_min=r;this.age_max=s;this.gender=t;this.locales=u.slice();this.locales_names=v.slice();this.see_regions=x;this.see_cities=w;},getData:function(){var l={};if(this.value==j.EVERYONE)return l;var m=['countries','location_type','location_ids','age_min','age_max','gender','locales'];for(var n=0;n<m.length;++n){var o=m[n];l[o]=this[o];}return l;}});e.exports=k;});
__d("UITargetedPrivacyWidget",["ArbiterMixin","AsyncRequest","BasePrivacyWidget","Dialog","PrivacyConst","SelectorDeprecated","TargetedPrivacyModel","classWithMixins","copyProperties","mixin"],function(a,b,c,d,e,f){var g=b('ArbiterMixin'),h=b('AsyncRequest'),i=b('BasePrivacyWidget'),j=b('Dialog'),k=b('PrivacyConst'),l=b('SelectorDeprecated'),m=b('TargetedPrivacyModel'),n=b('classWithMixins'),o=b('copyProperties'),p=b('mixin'),q=n(i,p(g));for(var r in q)if(q.hasOwnProperty(r))t[r]=q[r];var s=q===null?null:q.prototype;t.prototype=Object.create(s);t.prototype.constructor=t;t.__superConstructor__=q;function t(){"use strict";if(q!==null)q.apply(this,arguments);}t.prototype.init=function(u,v,w){"use strict";var x={useLegacyFormData:true};s.init.call(this,v,x);this._profileId=w;this._model=new m();this._formDataKey='targeted_privacy_data';t.instances[this._controllerId]=this;this._initSelector(u);this._saveFormData();};t.prototype.reset=function(){"use strict";this._model=new m();this._updateSelector();this._saveFormData();return this;};t.prototype._onMenuSelect=function(u){"use strict";if(u==k.BaseValue.EVERYONE)this._model=new m();this._saveFormData();this._updateSelector();if(this._isCustomSetting(u))this._showDialog();};t.prototype._showDialog=function(){"use strict";var u={controller_id:this._controllerId,profile_id:this._profileId};this._dialog=new j().setAsync(new h().setURI(t.DIALOG_URI).setData(u)).setModal(true).show();};t.prototype._updateSelector=function(u){"use strict";s._updateSelector.call(this,u);l.inform('change',{selector:this._selector});};t.getInstance=function(u){"use strict";return this.instances[u];};o(t,{DIALOG_URI:'/ajax/privacy/targeted_privacy_widget_dialog.php',instances:{}});e.exports=t;});
__d("legacy:UITargetedPrivacyWidget",["UITargetedPrivacyWidget"],function(a,b,c,d){a.UITargetedPrivacyWidget=b('UITargetedPrivacyWidget');},3);
__d("legacy:xd-arbiter",["XdArbiter"],function(a,b,c,d){b('XdArbiter');},3);